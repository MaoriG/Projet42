# Nom de l'exÃ©cutable
NAME = so_long

# RÃ©pertoires
LIBFT = ./libft/libft.a
FT_PRINTF = ./printf/libftprintf.a
MLX = ./minilibx/libmlx.a
GNL = ./get_next_line/get_next_line.a
SRC_DIR = ./srcs/
INC_DIR = inc/

# Fichiers source
SRC = $(SRC_DIR)main.c \
      $(SRC_DIR)hook.c \
      $(SRC_DIR)map.c \
      $(SRC_DIR)utils.c \
      $(SRC_DIR)map2.c \
      $(SRC_DIR)set.c \
      $(SRC_DIR)free_all.c \
      $(SRC_DIR)utils2.c

# Fichiers objets correspondants
OBJ = $(SRC:.c=.o)

# Compilateur et flags
CC = cc
CFLAGS = -Wall -Wextra -Werror -g -I$(INC_DIR) -I./minilibx -I ./libft
MLX_FLAGS = -L./minilibx -lmlx -lXext -lX11
RM = rm -f

# Cible par dÃ©faut
all: $(NAME)

# CrÃ©er l'exÃ©cutable
$(NAME): $(OBJ) $(LIBFT) $(FT_PRINTF) $(MLX) $(GNL)
	@echo "ðŸ”¨ Linking $(NAME)..."
	$(CC) $(CFLAGS) $(OBJ) $(LIBFT) $(FT_PRINTF) $(GNL) $(MLX_FLAGS) -o $(NAME)

# RÃ¨gle pour compiler les fichiers objets
%.o: %.c
	@echo "ðŸ’» Compiling $<"
	$(CC) $(CFLAGS) -c $< -o $@

# Nettoyer les fichiers objets
clean:
	@echo "ðŸ§¹ Cleaning object files..."
	$(RM) $(OBJ)

# Supprimer les objets et l'exÃ©cutable
fclean: clean
	@echo "ðŸ§¼ Cleaning everything..."
	$(RM) $(NAME)

# Recompiler tout
re: fclean all

# RÃ¨gle pour gÃ©nÃ©rer la bibliothÃ¨que libft
$(LIBFT):
	make -C ./libft

# RÃ¨gle pour gÃ©nÃ©rer la bibliothÃ¨que libftprintf
$(FT_PRINTF):
	make -C ./printf

# RÃ¨gle pour gÃ©nÃ©rer la bibliothÃ¨que get_next_line
$(GNL):
	make -C ./get_next_line

# RÃ¨gle pour gÃ©nÃ©rer la bibliothÃ¨que minilibx
$(MLX):
	make -C ./minilibx
